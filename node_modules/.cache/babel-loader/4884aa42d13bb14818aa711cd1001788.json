{"ast":null,"code":"var _jsxFileName = \"E:\\\\probaReact\\\\projekt\\\\src\\\\components\\\\MapView.jsx\";\nimport ReactMapboxGl, { Layer, Feature } from \"react-mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport React, { PureComponent } from \"react\";\nimport jel from \"../img/images.png\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Map = ReactMapboxGl({\n  accessToken: \"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\"\n});\n\nclass MapView extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewport: {\n        width: \"100vw\",\n        height: \"100vh\",\n        latitude: 42.430472,\n        longitude: -123.334102,\n        zoom: 16\n      },\n      userLocation: {},\n      helysegek: {\n        latitude: 42.430472,\n        longitude: -123.334102\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:8090/api/helysegek`).then(res => {\n      for (i = 0; i < res.length; i++) {\n        let helyseg = {\n          latitude: res.data[i].szelesseg,\n          longitude: res.data.hosszusag\n        };\n        this.setState({\n          helysegek: helyseg\n        });\n      }\n\n      console.log(res.data);\n      console.log(this.state.helysegek);\n    }).catch(function (ex) {\n      console.log(\"Response parsing failed. Error: \", ex);\n    });\n    console.log(this.state.helysegek);\n    navigator.geolocation.getCurrentPosition(position => {\n      console.log(position);\n      let setUserLocation = {\n        lat: position.coords.latitude,\n        long: position.coords.longitude\n      };\n      let newViewport = {\n        height: \"100vh\",\n        width: \"100vw\",\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        zoom: 10\n      };\n      this.setState({\n        viewport: newViewport,\n        userLocation: setUserLocation\n      });\n    });\n  }\n\n  componentWillMount() {}\n\n  render() {\n    if (this.state.helysegek.szelesseg != undefined) {\n      return /*#__PURE__*/_jsxDEV(ReactMapGL, { ...this.state.viewport,\n        mapStyle: \"mapbox://styles/mapbox/outdoors-v11\",\n        onViewportChange: viewport => this.setState({\n          viewport\n        }),\n        mapboxApiAccessToken: \"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\",\n        children: this.state.helysegek.map(helyseg => /*#__PURE__*/_jsxDEV(Marker, {\n          latitude: this.state.helysegek.szelesseg,\n          longitude: this.state.helysegek.hosszusag,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"marker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(ReactMapGL, { ...this.state.viewport,\n        mapStyle: \"mapbox://styles/mapbox/outdoors-v11\",\n        onViewportChange: viewport => this.setState({\n          viewport\n        }),\n        mapboxApiAccessToken: \"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\",\n        children: Object.keys(this.state.userLocation).length !== 0 ? /*#__PURE__*/_jsxDEV(Marker, {\n          latitude: this.state.userLocation.lat,\n          longitude: this.state.userLocation.long,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"I'm Here!!!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default MapView;","map":{"version":3,"sources":["E:/probaReact/projekt/src/components/MapView.jsx"],"names":["ReactMapboxGl","Layer","Feature","React","PureComponent","jel","ReactMapGL","Marker","axios","Map","accessToken","MapView","constructor","props","state","viewport","width","height","latitude","longitude","zoom","userLocation","helysegek","componentDidMount","get","then","res","i","length","helyseg","data","szelesseg","hosszusag","setState","console","log","catch","ex","navigator","geolocation","getCurrentPosition","position","setUserLocation","lat","coords","long","newViewport","componentWillMount","render","undefined","map","Object","keys"],"mappings":"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","sourcesContent":["import ReactMapboxGl, { Layer, Feature } from \"react-mapbox-gl\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport React, { PureComponent } from \"react\";\r\nimport jel from \"../img/images.png\";\r\nimport ReactMapGL, { Marker } from \"react-map-gl\";\r\nimport axios from \"axios\";\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    \"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\",\r\n});\r\nclass MapView extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      viewport: {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        latitude: 42.430472,\r\n        longitude: -123.334102,\r\n        zoom: 16,\r\n      },\r\n      userLocation: {},\r\n      helysegek: {\r\n        latitude: 42.430472,\r\n        longitude: -123.334102,\r\n      },\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    axios\r\n      .get(`http://localhost:8090/api/helysegek`)\r\n      .then((res) => {\r\n        for(i=0;i<res.length;i++){\r\n          let helyseg = {\r\n            latitude: res.data[i].szelesseg,\r\n            longitude: res.data.hosszusag,\r\n          };\r\n          this.setState({ helysegek: helyseg });\r\n        }\r\n        console.log(res.data);\r\n        console.log(this.state.helysegek);\r\n      })\r\n      .catch(function (ex) {\r\n        console.log(\"Response parsing failed. Error: \", ex);\r\n      });\r\n    console.log(this.state.helysegek);\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      console.log(position);\r\n      let setUserLocation = {\r\n        lat: position.coords.latitude,\r\n        long: position.coords.longitude,\r\n      };\r\n      let newViewport = {\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        latitude: position.coords.latitude,\r\n        longitude: position.coords.longitude,\r\n        zoom: 10,\r\n      };\r\n      this.setState({\r\n        viewport: newViewport,\r\n        userLocation: setUserLocation,\r\n      });\r\n    });\r\n  }\r\n  componentWillMount() {}\r\n  render() {\r\n    if (this.state.helysegek.szelesseg != undefined) {\r\n      return (\r\n        <ReactMapGL\r\n          {...this.state.viewport}\r\n          mapStyle=\"mapbox://styles/mapbox/outdoors-v11\"\r\n          onViewportChange={(viewport) => this.setState({ viewport })}\r\n          mapboxApiAccessToken=\"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\"\r\n        >\r\n          {this.state.helysegek.map((helyseg) => (\r\n            <Marker\r\n              latitude={this.state.helysegek.szelesseg}\r\n              longitude={this.state.helysegek.hosszusag}\r\n            >\r\n              <img className=\"marker\" />\r\n            </Marker>\r\n          ))}\r\n        </ReactMapGL>\r\n      );\r\n    } else {\r\n      return (\r\n        <ReactMapGL\r\n          {...this.state.viewport}\r\n          mapStyle=\"mapbox://styles/mapbox/outdoors-v11\"\r\n          onViewportChange={(viewport) => this.setState({ viewport })}\r\n          mapboxApiAccessToken=\"pk.eyJ1IjoicHVza2k5NiIsImEiOiJja25hOTJzeTAwenRjMnJ0YXQwMzRpNWV4In0.ElYpo9WdpgCbQsFCYrBsvg\"\r\n        >\r\n          {Object.keys(this.state.userLocation).length !== 0 ? (\r\n            <Marker\r\n              latitude={this.state.userLocation.lat}\r\n              longitude={this.state.userLocation.long}\r\n            >\r\n              <div>I'm Here!!!</div>\r\n            </Marker>\r\n          ) : (\r\n            <div>Empty</div>\r\n          )}\r\n        </ReactMapGL>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default MapView;\r\n"]},"metadata":{},"sourceType":"module"}